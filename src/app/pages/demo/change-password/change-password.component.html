<nz-divider nzText="Please Change Your Password !" nzOrientation="left"></nz-divider>
<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">
  <!-- 用户名 -->
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>用户名</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="验证中..." [nzErrorTip]="userErrorTpl">
      <input nz-input formControlName="userName" placeholder="请输入你的用户名" />
      <ng-template #userErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          用户名是必需的！
        </ng-container>
        <ng-container *ngIf="control.hasError('duplicated')">
          用户名有误！
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <!-- 邮箱 -->
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>邮箱</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="emailErrorTpl">
      <input nz-input formControlName="email" placeholder="请输入你的邮箱" type="email" />
      <ng-template #emailErrorTpl let-control>
        <ng-container *ngIf="control.hasError('email')">
          请输入一个合法的邮箱！
        </ng-container>
        <ng-container *ngIf="control.hasError('required')">
          邮箱是必需的！
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <!-- 原密码 -->
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>原密码</nz-form-label>
    <div>
      <nz-form-control [nzSpan]="12" nzHasFeedback nzErrorTip="请输入原密码！">
        <input nz-input type="password" placeholder="请输入你的原密码" formControlName="password"
          (ngModelChange)="validateConfirmPassword()" />
      </nz-form-control>
    </div>
  </nz-form-item>
  <!-- 新密码 -->
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>新密码</nz-form-label>
    <div>
      <nz-form-control [nzSpan]="12" nzHasFeedback nzErrorTip="请输入新密码">
        <input nz-input type="password" placeholder="请输入你的新密码" formControlName="password"
          (ngModelChange)="validateConfirmPassword()" />
      </nz-form-control>
    </div>
  </nz-form-item>
  <!-- 确认新密码 -->
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>确认新密码</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
      <input nz-input type="password" formControlName="confirm" placeholder="请再次输入你的新密码" />
      <ng-template #passwordErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          必须再次输入新密码！
        </ng-container>
        <ng-container *ngIf="control.hasError('confirm')">
          两次输入的密码不一致!
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <!-- 验证码 -->
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzFor="captcha" nzRequired>验证码</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入你收到的验证码！"
      nzExtra="We must make sure that your are a human.">
      <div nz-row [nzGutter]="8">
        <div nz-col [nzSpan]="12">
          <input nz-input formControlName="captcha" id="captcha" />
        </div>
        <div nz-col [nzSpan]="12">
          <button nz-button (click)="getCaptcha($event)">获取验证码</button>
        </div>
      </div>
    </nz-form-control>
  </nz-form-item>
  <!-- 备注 -->
  <!-- <nz-form-item>
    <nz-form-label [nzSpan]="7">备注</nz-form-label>
    <nz-form-control [nzSpan]="12">
      <textarea formControlName="comment" nz-input rows="2" placeholder="有什么备注嘛..."></textarea>
    </nz-form-control>
  </nz-form-item> -->
  <nz-form-item>
    <nz-form-control [nzOffset]="7" [nzSpan]="12">
      <button nz-button nzType="primary" [disabled]="!validateForm.valid">确认修改</button>
      <button nz-button (click)="resetForm($event)">重置表单</button>
    </nz-form-control>
  </nz-form-item>
</form>
